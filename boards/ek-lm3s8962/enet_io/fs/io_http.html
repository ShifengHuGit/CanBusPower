<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<!-- Copyright (c) 2008 Luminary Micro, Inc. All rights reserved. -->
<meta http-equiv="content-type" content="text/html;charset=ISO-8869-1"><title>I/O Control Demo 1</title>

<script language="JavaScript">
<!--
function toggle_led()
{
var req = false;
var led = false;
function ledComplete()
{
if(led.readyState == 4)
{
if(led.status == 200)
{
document.getElementById("ledstate").innerHTML = "<div>" + led.responseText + "</div>";
}
}
}
if(window.XMLHttpRequest)
{
req = new XMLHttpRequest();
led = new XMLHttpRequest();
}
else if(window.ActiveXObject)
{
req = new ActiveXObject("Microsoft.XMLHTTP");
led = new ActiveXObject("Microsoft.XMLHTTP");
}
if(req)
{
req.open("GET", "/cgi-bin/toggle_led?id" + Math.random(), true);
req.send(null);
}
if(led)
{
led.open("GET", "/ledstate?id=" + Math.random(), true);
led.onreadystatechange = ledComplete;
led.send(null);
}
}
function pwm_onoff()
{
var req = false;
var pwm = false;
function pwmComplete()
{
if(pwm.readyState == 4)
{
if(pwm.status == 200)
{
document.getElementById("pwmstate").innerHTML = "<div>" + pwm.responseText + "</div>";
}
}
}
if(window.XMLHttpRequest)
{
req = new XMLHttpRequest();
pwm = new XMLHttpRequest();
}
else if(window.ActiveXObject)
{
req = new ActiveXObject("Microsoft.XMLHTTP");
pwm = new ActiveXObject("Microsoft.XMLHTTP");
}
if(req)
{
req.open("GET", "/cgi-bin/pwm_onoff?id" + Math.random(), true);
req.send(null);
}
if(pwm)
{
pwm.open("GET", "/pwmstate?id=" + Math.random(), true);
pwm.onreadystatechange = pwmComplete;
pwm.send(null);
}
}
function pwm_freq_set()
{
var req = false;
var pwmfreq = false;
var FreqText = document.getElementById("pwmfreqtxt");
function pwmfreqComplete()
{
if(pwmfreq.readyState == 4)
{
if(pwmfreq.status == 200)
{
document.getElementById("pwmfreq").innerHTML = "<div>" + pwmfreq.responseText + "</div>";
}
}
}
if(window.XMLHttpRequest)
{
req = new XMLHttpRequest();
pwmfreq = new XMLHttpRequest();
}
else if(window.ActiveXObject)
{
req = new ActiveXObject("Microsoft.XMLHTTP");
pwmfreq = new ActiveXObject("Microsoft.XMLHTTP");
}
if(req)
{
if(FreqText.value != "")
{
req.open("GET", "/pwm_freq?value=" + FreqText.value + "&id=" + Math.random(), true);
req.send(null);
}
}
if(pwmfreq)
{
pwmfreq.open("GET", "/pwmfreqget?id=" + Math.random(), true);
pwmfreq.onreadystatechange = pwmfreqComplete;
pwmfreq.send(null);
}
}
function pwm_dutycycle_set()
{
var req = false;
var pwmdutycycle = false;
var DutyCycleText = document.getElementById("pwmdutycycletxt");
function pwmdutycycleComplete()
{
if(pwmdutycycle.readyState == 4)
{
if(pwmdutycycle.status == 200)
{
document.getElementById("pwmdutycycle").innerHTML = "<div>" + pwmdutycycle.responseText + "</div>";
}
}
}
if(window.XMLHttpRequest)
{
req = new XMLHttpRequest();
pwmdutycycle = new XMLHttpRequest();
}
else if(window.ActiveXObject)
{
req = new ActiveXObject("Microsoft.XMLHTTP");
pwmdutycycle = new ActiveXObject("Microsoft.XMLHTTP");
}
if(req)
{
if(DutyCycleText.value != "")
{
req.open("GET", "/pwm_dutycycle?value=" + DutyCycleText.value + "&id=" + Math.random(), true);
req.send(null);
}
}
if(pwmdutycycle)
{
pwmdutycycle.open("GET", "/pwmdutycycleget?id=" + Math.random(), true);
pwmdutycycle.onreadystatechange = pwmdutycycleComplete;
pwmdutycycle.send(null);
}
}
function ledstateGet()
{
var led = false;
function ledComplete()
{
if(led.readyState == 4)
{
if(led.status == 200)
{
document.getElementById("ledstate").innerHTML = "<div>" + led.responseText + "</div>";
}
}
}
if(window.XMLHttpRequest)
{
led = new XMLHttpRequest();
}
else if(window.ActiveXObject)
{
led = new ActiveXObject("Microsoft.XMLHTTP");
}
if(led)
{
led.open("GET", "/ledstate?id=" + Math.random(), true);
led.onreadystatechange = ledComplete;
led.send(null);
}
}
function pwmstateGet()
{
var pwm = false;
function pwmComplete()
{
if(pwm.readyState == 4)
{
if(pwm.status == 200)
{
document.getElementById("pwmstate").innerHTML = "<div>" + pwm.responseText + "</div>";
}
}
}
if(window.XMLHttpRequest)
{
pwm = new XMLHttpRequest();
}
else if(window.ActiveXObject)
{
pwm = new ActiveXObject("Microsoft.XMLHTTP");
}
if(pwm)
{
pwm.open("GET", "/pwmstate?id=" + Math.random(), true);
pwm.onreadystatechange = pwmComplete;
pwm.send(null);
}
}
function pwmfreqGet()
{
var pwmfreq = false;
function pwmfreqComplete()
{
if(pwmfreq.readyState == 4)
{
if(pwmfreq.status == 200)
{
document.getElementById("pwmfreq").innerHTML = "<div>" + pwmfreq.responseText + "</div>";
}
}
}
if(window.XMLHttpRequest)
{
pwmfreq = new XMLHttpRequest();
}
else if(window.ActiveXObject)
{
pwmfreq = new ActiveXObject("Microsoft.XMLHTTP");
}
if(pwmfreq)
{
pwmfreq.open("GET", "/pwmfreqget?id=" + Math.random(), true);
pwmfreq.onreadystatechange = pwmfreqComplete;
pwmfreq.send(null);
}
}
function pwmdutycycleGet()
{
var pwmdutycycle = false;
function pwmdutycycleComplete()
{
if(pwmdutycycle.readyState == 4)
{
if(pwmdutycycle.status == 200)
{
document.getElementById("pwmdutycycle").innerHTML = "<div>" + pwmdutycycle.responseText + "</div>";
}
}
}
if(window.XMLHttpRequest)
{
pwmdutycycle = new XMLHttpRequest();
}
else if(window.ActiveXObject)
{
pwmdutycycle = new ActiveXObject("Microsoft.XMLHTTP");
}
if(pwmdutycycle)
{
pwmdutycycle.open("GET", "/pwmdutycycleget?id=" + Math.random(), true);
pwmdutycycle.onreadystatechange = pwmdutycycleComplete;
pwmdutycycle.send(null);
}
}
//-->
</script>
<style type="text/css">
body
{
font-family: Arial;
background-color: white;
margin: 10px;
padding: 0px
}
h1
{
color: #7C7369;
font-family: Arial;
font-size: 24pt;
font-style: italic;
}
h2
{
color: #000000;
font-family: Arial;
font-size: 18pt;
font-style: bold;
}
h3
{
color: #7C7369;
font-family: Arial;
font-size: 12pt;
font-style: bold;
}
</style>
</head>
<body onload="ledstateGet();pwmstateGet();pwmfreqGet();pwmdutycycleGet();">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr>
<td align="center" height="66" valign="bottom" width="78"><img src="./images/lmi_logo.gif"></td>
<td>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr>
<td align="center" valign="top">
<h1>Stellaris<small><sup>&reg;</sup></small> LM3S8962 Evaluation Kit</h1>
</td>
</tr>
<tr>
<td align="left" valign="top"><img src="images/lmi_tm.gif"></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<table width="100%">
<tbody>
<tr>
<td align="left" valign="top" width="25%">
<br>
<ul>
<li> <a href="index.html">About
Luminary Micro</a>
<br>
<br>
</li>
<li> <a href="family.html">About
the Stellaris Family</a>
<br>
<br>
</li>
<li> <a href="block.html">Block
Diagram</a>
<br>
<br>
</li>
<li> <a href="io_http.html">I/O
Control Demo 1<br>
(HTTP Requests)</a>
<br>
<br>
</li>
<li><a href="io_cgi.shtml">I/O
Control Demo 2<br>
(SSI/CGI)<br>
<br>
</a></li>
</ul>
</td>
<td align="left" valign="top" width="75%">
<center>
<h2 align="center">I/O Control Demo 1</h2>
</center>
<hr size="2" width="100%">
<p>This demonstration shows how to perform control and
status
reporting using HTTP requests embedded within Javascript code on the
web page itself. Using this method, it is possible to update sections
of text on the current page without the need to refresh the entire page.</p>
<p>Toggle STATUS LED and report the state of the LED
</p>
<table>
<tbody>
<tr>
<td><input id="toggle" value="Toggle LED" onclick="toggle_led()" type="button"></td>
<td>STATUS LED:</td>
<td>
<div id="ledstate" align="center"> - </div>
</td>
</tr>
</tbody>
</table>
<p>
Toggle PWM ON/OFF and report the current state
</p>
<table>
<tbody>
<tr>
<td><input id="pwmonoff" value="PWM ON/OFF" onclick="pwm_onoff()" type="button"></td>
<td>PWM:</td>
<td>
<div id="pwmstate" align="center"> - </div>
</td>
</tr>
</tbody>
</table>
<p>
Set PWM frequency (min 200)
</p>
<table>
<tbody>
<tr>
<td>Current Freq:</td>
<td>
<div id="pwmfreq" align="center"> - </div>
</td>
</tr>
<tr>
<td><input id="pwmfreqset" value="Set Frequency" onclick="pwm_freq_set()" type="button"></td>
<td><input id="pwmfreqtxt" type="text"></td>
</tr>
</tbody>
</table>
<p>
Set PWM Duty Cycle
</p>
<table>
<tbody>
<tr>
<td>Current Duty Cycle:</td>
<td>
<div id="pwmdutycycle" align="center">-
</div>
</td>
</tr>
<tr>
<td><input id="pwmdutycycleset" value="Set Duty Cycle" onclick="pwm_dutycycle_set()" type="button"></td>
<td><input id="pwmdutycycletxt" type="text"></td>
</tr>
</tbody>
</table>
<p></p>
</td>
</tr>
</tbody>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr>
<td align="left" valign="top"><img src="images/lmi_tm.gif"></td>
<td align="right" valign="center">
<h1><br>
</h1>
</td>
<td align="right" valign="center">
<h3>Copyright © 2008 Luminary Micro, Inc. All rights
reserved.</h3>
</td>
</tr>
</tbody>
</table>
</body></html>
